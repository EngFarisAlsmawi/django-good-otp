[tox]
envlist = 27,35

[testenv]
basepython =
  27: python2.7
  35: python3.5
deps =
  27: mock
  flake8
  flake8-docstrings
  coverage
commands =
  coverage erase
  flake8 --exclude=migrations setup.py django_otp tests
  coverage run --branch --omit="**/migrations/**" --source=django_otp  -m unittest discover tests
  coverage report -m
setenv =
  27: COVERAGE_FILE=python27.coverage
  35: COVERAGE_FILE=python35.coverage
  DJANGO_SETTINGS_MODULE=settings
